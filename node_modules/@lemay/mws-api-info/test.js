const data=require('./main.json');
const assert=require('assert');

if(!Array.prototype.unique){
	Array.prototype.unique=function(){
		let all={};
		for(let i=0;i<this.length;i++){
			all[this[i]]=null;
		}
		return Object.keys(all);
	}
}

// make sure country code has no duplicates
assert.strictEqual(Object.keys(data).length, Object.values(data).length);

// make sure there are 6 regions
assert.strictEqual(Object.values(data).map(info => info.region).unique().length, 6);

// make sure there are 6 mws api endpoint urls
assert.strictEqual(Object.values(data).map(info => info.mws_endpoint).unique().length, 6);

// make sure name are all unique
assert.strictEqual(Object.values(data).map(info => info.name).unique().length, Object.keys(data).length);

// make sure site url are all unique
assert.strictEqual(Object.values(data).map(info => info.site).unique().length, Object.keys(data).length);

// make sure id are all unique
assert.strictEqual(Object.values(data).map(info => info.id).unique().length, Object.keys(data).length);
